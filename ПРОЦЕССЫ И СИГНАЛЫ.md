## Процессы и сигналы

**Процесс** - это экземпляр исполняемой программы. Когда берут какой-то код и выполняют его, этот код становится процессом.

**Сигнал** - это асинхронное уведомление, отправляемое процессу ядром или другим процессом.

**Для чего нужны сигналы? Какие сигналы используются чаще всего?**

Это уведомление процесса о наступившем событии. Также это способ взаимодйествия между процссами.  
Безусловное и немедленное завершение процесса - SIGKILL  
Остановка процесса с обработкой действий при остановке - SIGSTOP  
Продолжить выполнение - SIGCONT  
"Мягкое завершение" - SIGTERM  

Проблема использования SIGKILL - он убивает дочерние процессы. В этом случае может появиться **процесс зомби**. Уничтоженный процесс не имеет возможности сообщить родителю о том, что у него был сигнал уничтожения.  

### **Что показывает статус процессов? Какие статусы используются в linux?**

R - процесс исполнется, или ждет своей очереди на исполнение

S - прерываемый сон - процесс ожидает определенного события или сигнала. Нужен, когда процесс нельзя завершить (чтение из файла), ядро переводит на ожидание. Ожидать данные от сетевого соединения

D - непрерывное ожидание, сон. Ждем сигнал от аппаратной части. T - остановка процесса, посылаем сигнал STOP. В этом состоянии процессу запрещено выполняться Чтобы вернуть к жизни нужно послать CONT При завершении процесса он становится зомби

Z(zombie) - зомби это процесс, который закончил выполнение, но не передал родительскому процессу свой код возвращения. Процесс в этом состоянии игнорирует kill. Родитель получает код, и освобождает структуру ядра, которое относится к процессу Бывает еще когда родительский умирает раньше дочернего. Процесс становится сиротой.

**Действия с процессами, анализ состояния**  
Про работу с процессами - [https://habr.com/ru/companies/otus/articles/744902/](https://habr.com/ru/companies/otus/articles/744902/)

  
Про контроль работы с процессами (команды top, atop, htop) - [https://help.ishosting.com/ru/load-and-process-control-top-htop-atop](https://help.ishosting.com/ru/load-and-process-control-top-htop-atop)  
[https://habr.com/ru/articles/114082/](https://habr.com/ru/articles/114082/)  

strace - мощный и продвинутый инструмент для дебага проблем с процессами  
[https://habr.com/ru/companies/badoo/articles/493856/](https://habr.com/ru/companies/badoo/articles/493856/)

**Control Groups (cgroups)** — это механизм ядра Linux для:

- **Ограничения ресурсов** (CPU, RAM, disk I/O, network)
- **Учета потребления ресурсов** (мониторинг)
- **Изоляции процессов** (контейнеры используют cgroups)
- **Управления приоритетами** (например, выделение CPU для важных процессов)  
    

По сути cgroups - ключевая технология для контейнеризации (позволяет логически разделить ресурсы между процессами/службами/контейнерами.

Сильно более подробная статья про cgroups - [https://habr.com/ru/companies/selectel/articles/303190/](https://habr.com/ru/companies/selectel/articles/303190/)




**Процесс** - это экземпляр исполняемой программы. Когда берут какой-то код и выполняют его, этот код становится процессом.

**Сигнал** - это асинхронное уведомление, отправляемое процессу ядром или другим процессом.

**Для чего нужны сигналы? Какие сигналы используются чаще всего?**

Это уведомление процесса о наступившем событии. Также это способ взаимодйествия между процссами.  
Безусловное и немедленное завершение процесса - SIGKILL  
Остановка процесса с обработкой действий при остановке - SIGSTOP  
Продолжить выполнение - SIGCONT  
"Мягкое завершение" - SIGTERM  

Проблема использования SIGKILL - он убивает дочерние процессы. В этом случае может появиться **процесс зомби**. Уничтоженный процесс не имеет возможности сообщить родителю о том, что у него был сигнал уничтожения.  

### **Что показывает статус процессов? Какие статусы используются в linux?**

R - процесс исполнется, или ждет своей очереди на исполнение

S - прерываемый сон - процесс ожидает определенного события или сигнала. Нужен, когда процесс нельзя завершить (чтение из файла), ядро переводит на ожидание. Ожидать данные от сетевого соединения

D - непрерывное ожидание, сон. Ждем сигнал от аппаратной части. T - остановка процесса, посылаем сигнал STOP. В этом состоянии процессу запрещено выполняться Чтобы вернуть к жизни нужно послать CONT При завершении процесса он становится зомби

Z(zombie) - зомби это процесс, который закончил выполнение, но не передал родительскому процессу свой код возвращения. Процесс в этом состоянии игнорирует kill. Родитель получает код, и освобождает структуру ядра, которое относится к процессу Бывает еще когда родительский умирает раньше дочернего. Процесс становится сиротой.

**Действия с процессами, анализ состояния**  
Про работу с процессами - [https://habr.com/ru/companies/otus/articles/744902/](https://habr.com/ru/companies/otus/articles/744902/)

  
Про контроль работы с процессами (команды top, atop, htop) - [https://help.ishosting.com/ru/load-and-process-control-top-htop-atop](https://help.ishosting.com/ru/load-and-process-control-top-htop-atop)  
[https://habr.com/ru/articles/114082/](https://habr.com/ru/articles/114082/)  

strace - мощный и продвинутый инструмент для дебага проблем с процессами  
[https://habr.com/ru/companies/badoo/articles/493856/](https://habr.com/ru/companies/badoo/articles/493856/)

**Control Groups (cgroups)** — это механизм ядра Linux для:

- **Ограничения ресурсов** (CPU, RAM, disk I/O, network)
- **Учета потребления ресурсов** (мониторинг)
- **Изоляции процессов** (контейнеры используют cgroups)
- **Управления приоритетами** (например, выделение CPU для важных процессов)  
    

По сути cgroups - ключевая технология для контейнеризации (позволяет логически разделить ресурсы между процессами/службами/контейнерами.

Сильно более подробная статья про cgroups - [https://habr.com/ru/companies/selectel/articles/303190/](https://habr.com/ru/companies/selectel/articles/303190/)

***
#linux 